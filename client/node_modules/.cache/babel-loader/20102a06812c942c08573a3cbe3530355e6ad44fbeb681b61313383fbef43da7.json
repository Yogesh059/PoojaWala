{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\OS\\\\Desktop\\\\New folder\\\\poojawala\\\\client\\\\src\\\\pages\\\\Summary.jsx\",\n  _s = $RefreshSig$();\nimport styled from \"styled-components\";\nimport StripeCheckout from \"react-stripe-checkout\";\nimport { useSelector } from \"react-redux\";\nimport { useEffect, useState } from \"react\";\nimport { publicRequest, userRequest } from \"../requestMethods\";\nimport { useNavigate } from \"react-router\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SummaryBox = styled.div`\n  flex: 1;\n  border: 0.5px solid black;\n  border-radius: 20px;\n  padding: 20px;\n  height: 50vh;\n  margin-left: 10px;\n`;\n_c = SummaryBox;\nconst SummaryTitle = styled.h1`\n  font-weight: 200;\n`;\n_c2 = SummaryTitle;\nconst SummaryItem = styled.div`\n  margin: 30px 0px;\n  display: flex;\n  justify-content: space-between;\n  font-weight: ${props => props.type === \"total\" ? \"500\" : \"normal\"};\n  font-size: ${props => props.type === \"total\" ? \"24px\" : \"inherit\"};\n`;\n_c3 = SummaryItem;\nconst SummaryItemText = styled.span``;\n_c4 = SummaryItemText;\nconst SummaryItemPrice = styled.span``;\n_c5 = SummaryItemPrice;\nconst Button = styled.button`\n  width: 100%;\n  padding: 10px;\n  background-color: black;\n  color: white;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n\n  &:hover {\n    background-color: teal;\n    transform: scale(1.1);\n  }\n`;\n_c6 = Button;\nconst KEY = process.env.REACT_APP_STRIPE;\nconst Summary = ({\n  totalPrice,\n  productList,\n  user\n}) => {\n  _s();\n  const history = useNavigate();\n  const [stripeToken, setStripeToken] = useState(null);\n  useEffect(() => {\n    const makeRequest = async () => {\n      try {\n        const res = await userRequest.post(\"/checkout/payment\", {\n          tokenId: stripeToken.id,\n          amount: totalPrice * 100\n        });\n        if (res) {\n          for (let i = 0; i < (productList === null || productList === void 0 ? void 0 : productList.length); i++) {\n            try {\n              await publicRequest.post(\"/orders\", {\n                userId: user,\n                products: [{\n                  productId: productList[i].productId\n                }, {\n                  quantity: productList[i].quantity\n                }],\n                amount: productList[i].pricePerItem * productList[i].quantity,\n                status: \"Success\"\n              });\n            } catch (e) {\n              console.log(\"Error while ordering\");\n            }\n          }\n          history(\"/success\");\n        }\n      } catch (e) {\n        console.log(e);\n      }\n    };\n    stripeToken && makeRequest();\n  }, [stripeToken, totalPrice, history, productList, user]);\n  return /*#__PURE__*/_jsxDEV(SummaryBox, {\n    children: [/*#__PURE__*/_jsxDEV(SummaryTitle, {\n      children: \"BOOKING SUMMARY\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SummaryItem, {\n      children: [/*#__PURE__*/_jsxDEV(SummaryItemText, {\n        children: \"SubTotal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SummaryItemPrice, {\n        children: [\"\\u20B9 \", totalPrice]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SummaryItem, {\n      children: [/*#__PURE__*/_jsxDEV(SummaryItemText, {\n        children: \"Extra Charges\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SummaryItemPrice, {\n        children: \"\\u20B9 0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SummaryItem, {\n      type: \"total\",\n      children: [/*#__PURE__*/_jsxDEV(SummaryItemText, {\n        children: \"Total\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SummaryItemPrice, {\n        children: [\"\\u20B9 \", totalPrice]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(StripeCheckout, {\n      name: \"AY\",\n      img: \"https://avatars.githubusercontent.com/u/1486366?v=4\",\n      billingAddress: true,\n      shippingAddress: true,\n      description: `Your total is ₹${totalPrice}`,\n      amount: totalPrice * 100,\n      token: token => setStripeToken(token),\n      stripeKey: KEY,\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        children: \"CHECKOUT NOW\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 5\n  }, this);\n};\n_s(Summary, \"Axtbq/TgbNnh49pQB4zsmNRFwaM=\", false, function () {\n  return [useNavigate];\n});\n_c7 = Summary;\nexport default Summary;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n$RefreshReg$(_c, \"SummaryBox\");\n$RefreshReg$(_c2, \"SummaryTitle\");\n$RefreshReg$(_c3, \"SummaryItem\");\n$RefreshReg$(_c4, \"SummaryItemText\");\n$RefreshReg$(_c5, \"SummaryItemPrice\");\n$RefreshReg$(_c6, \"Button\");\n$RefreshReg$(_c7, \"Summary\");","map":{"version":3,"names":["styled","StripeCheckout","useSelector","useEffect","useState","publicRequest","userRequest","useNavigate","jsxDEV","_jsxDEV","SummaryBox","div","_c","SummaryTitle","h1","_c2","SummaryItem","props","type","_c3","SummaryItemText","span","_c4","SummaryItemPrice","_c5","Button","button","_c6","KEY","process","env","REACT_APP_STRIPE","Summary","totalPrice","productList","user","_s","history","stripeToken","setStripeToken","makeRequest","res","post","tokenId","id","amount","i","length","userId","products","productId","quantity","pricePerItem","status","e","console","log","children","fileName","_jsxFileName","lineNumber","columnNumber","name","img","billingAddress","shippingAddress","description","token","stripeKey","_c7","$RefreshReg$"],"sources":["C:/Users/OS/Desktop/New folder/poojawala/client/src/pages/Summary.jsx"],"sourcesContent":["import styled from \"styled-components\";\nimport StripeCheckout from \"react-stripe-checkout\";\nimport { useSelector } from \"react-redux\";\nimport { useEffect, useState } from \"react\";\nimport { publicRequest, userRequest } from \"../requestMethods\";\nimport { useNavigate } from \"react-router\";\n\nconst SummaryBox = styled.div`\n  flex: 1;\n  border: 0.5px solid black;\n  border-radius: 20px;\n  padding: 20px;\n  height: 50vh;\n  margin-left: 10px;\n`;\nconst SummaryTitle = styled.h1`\n  font-weight: 200;\n`;\nconst SummaryItem = styled.div`\n  margin: 30px 0px;\n  display: flex;\n  justify-content: space-between;\n  font-weight: ${(props) => (props.type === \"total\" ? \"500\" : \"normal\")};\n  font-size: ${(props) => (props.type === \"total\" ? \"24px\" : \"inherit\")};\n`;\nconst SummaryItemText = styled.span``;\n\nconst SummaryItemPrice = styled.span``;\n\nconst Button = styled.button`\n  width: 100%;\n  padding: 10px;\n  background-color: black;\n  color: white;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n\n  &:hover {\n    background-color: teal;\n    transform: scale(1.1);\n  }\n`;\n\nconst KEY = process.env.REACT_APP_STRIPE;\n\nconst Summary = ({ totalPrice, productList, user }) => {\n  const history = useNavigate();\n  const [stripeToken, setStripeToken] = useState(null);\n\n  useEffect(() => {\n    const makeRequest = async () => {\n      try {\n        const res = await userRequest.post(\"/checkout/payment\", {\n          tokenId: stripeToken.id,\n          amount: totalPrice * 100,\n        });\n\n        if (res) {\n          for (let i = 0; i < productList?.length; i++) {\n            try {\n              await publicRequest.post(\"/orders\", {\n                userId: user,\n                products: [\n                  {\n                    productId: productList[i].productId,\n                  },\n                  {\n                    quantity: productList[i].quantity,\n                  },\n                ],\n                amount: productList[i].pricePerItem * productList[i].quantity,\n                status: \"Success\",\n              });\n            } catch (e) {\n              console.log(\"Error while ordering\");\n            }\n          }\n\n          history(\"/success\");\n        }\n      } catch (e) {\n        console.log(e);\n      }\n    };\n\n    stripeToken && makeRequest();\n  }, [stripeToken, totalPrice, history, productList, user]);\n\n  return (\n    <SummaryBox>\n      <SummaryTitle>BOOKING SUMMARY</SummaryTitle>\n      <SummaryItem>\n        <SummaryItemText>SubTotal</SummaryItemText>\n        <SummaryItemPrice>₹ {totalPrice}</SummaryItemPrice>\n      </SummaryItem>\n      <SummaryItem>\n        <SummaryItemText>Extra Charges</SummaryItemText>\n        <SummaryItemPrice>₹ 0</SummaryItemPrice>\n      </SummaryItem>\n      {/* <SummaryItem>\n          <SummaryItemText>Shipping Discount</SummaryItemText>\n          <SummaryItemPrice>- ₹ 0</SummaryItemPrice>\n      </SummaryItem> */}\n      <SummaryItem type=\"total\">\n        <SummaryItemText>Total</SummaryItemText>\n        <SummaryItemPrice>₹ {totalPrice}</SummaryItemPrice>\n      </SummaryItem>\n      <StripeCheckout\n        name=\"AY\"\n        img=\"https://avatars.githubusercontent.com/u/1486366?v=4\"\n        billingAddress\n        shippingAddress\n        description={`Your total is ₹${totalPrice}`}\n        amount={totalPrice * 100}\n        token={(token) => setStripeToken(token)}\n        stripeKey={KEY}\n      >\n        <Button>CHECKOUT NOW</Button>\n      </StripeCheckout>\n    </SummaryBox>\n  );\n};\n\nexport default Summary;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}